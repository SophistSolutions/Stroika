include ../../Configuration.mk
include	../../SharedBuildRules.mk
include	../../SharedMakeVariables.mk


RelPathToStroikaDevRoot		=	../../../../../
SrcDir						=	$(RelPathToStroikaDevRoot)Library/Sources/Stroika/Foundation/IO/

SubDirs	=	\
	FileSystem	\
	Network		\

.PHONY:			$(SubDirs)


vpath %cpp $(SrcDir)


Objs	=	\
	$(ObjDir)FileAccessException.o\
	$(ObjDir)FileAccessMode.o\
	$(ObjDir)FileBusyException.o\
	$(ObjDir)FileFormatException.o\

all:	$(Objs) $(SubDirs)


FILE_OBJS		:= $(addprefix "FileSystem/", $(shell $(MAKE) --directory FileSystem -s list-objs))
NETWORK_OBJS	:= $(addprefix "Network/", $(shell $(MAKE) --directory Network -s list-objs))

list-objs::
	@echo $(FILE_OBJS) $(NETWORK_OBJS)

FileSystem:
	@$(MAKE) --directory FileSystem -s

Network:
	@$(MAKE) --directory Network -s


