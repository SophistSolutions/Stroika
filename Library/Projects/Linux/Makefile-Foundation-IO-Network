include	../../../Configuration.mk
include	../../../SharedBuildRules.mk
include	../../../SharedMakeVariables.mk

RelPathToStroikaDevRoot		=	../../../../../../../
SrcDir						=	$(RelPathToStroikaDevRoot)Library/Sources/Stroika/Foundation/IO/Network/

.PHONY:			HTTP	Transfer


SubDirs	=	\
	HTTP	\
	Transfer	\


vpath %cpp $(SrcDir)

Objs	=	\
	$(ObjDir)InternetAddress.o\
	$(ObjDir)Socket.o\
	$(ObjDir)SocketAddress.o\
	$(ObjDir)SocketStream.o\
	$(ObjDir)URL.o\

all:	$(Objs) $(SubDirs)


HTTP_OBJS := $(shell cd HTTP; $(MAKE) -s list-objs)
HTTP_OBJS := $(addprefix "./HTTP/", $(HTTP_OBJS))

Transfer_OBJS := $(shell cd Transfer; $(MAKE) -s list-objs)
Transfer_OBJS := $(addprefix "./Transfer/", $(Transfer_OBJS))

list-objs::
	@echo $(HTTP_OBJS) $(Transfer_OBJS)


HTTP:
	$(MAKE) --directory HTTP

Transfer:
	$(MAKE) --directory Transfer

