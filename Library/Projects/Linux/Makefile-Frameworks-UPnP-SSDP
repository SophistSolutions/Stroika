include ../../../Configuration.mk
include	../../../SharedBuildRules.mk
include	../../../SharedMakeVariables.mk

RelPathToStroikaDevRoot		=	../../../../../../../
SrcDir						=       $(RelPathToStroikaDevRoot)Library/Sources/Stroika/Frameworks/UPnP/SSDP/

vpath %cpp $(SrcDir)

SubDirs	=	\
	Client	\
	Server	\

.PHONY:			$(SubDirs)

Objs	=	\
	$(ObjDir)Common.o\

all:	$(Objs) $(SubDirs)

Client_OBJS := $(addprefix "Client/", $(shell $(MAKE) --directory Client -s list-objs))
Server_OBJS := $(addprefix "Server/", $(shell $(MAKE) --directory Server -s list-objs))

list-objs::
	@echo $(Client_OBJS) $(Server_OBJS)

Client:
	@$(MAKE) --directory Client -s

Server:
	@$(MAKE) --directory Server -s
