include ../../../Configuration.mk
include	../../../SharedBuildRules.mk
include	../../../SharedMakeVariables.mk

RelPathToStroikaDevRoot		=	../../../../../../../
SrcDir						=       $(RelPathToStroikaDevRoot)Library/Sources/Stroika/Frameworks/UPnP/SSDP/

.PHONY:			Client Server

vpath %cpp $(SrcDir)

SubDirs	=	\
	Client	\
	Server	\

Objs	=	\
	$(ObjDir)Common.o\

all:	$(Objs) $(SubDirs)

Client_OBJS := $(shell cd Client; $(MAKE) -s list-objs)
Client_OBJS := $(addprefix "./Client/", $(Client_OBJS))

Server_OBJS := $(shell cd Server; $(MAKE) -s list-objs)
Server_OBJS := $(addprefix "./Server/", $(Server_OBJS))

list-objs::
	@echo $(Client_OBJS) $(Server_OBJS)

Client:
	(cd Client; $(MAKE))

Server:
	(cd Server; $(MAKE))
