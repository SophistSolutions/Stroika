include ../../Configuration.mk
include	../../SharedBuildRules.mk
include	../../SharedMakeVariables.mk

RelPathToStroikaDevRoot		=	../../../../../
SrcDir						=       $(RelPathToStroikaDevRoot)Library/Sources/Stroika/Frameworks/SystemPerformance/

SubDirs	=	\
	Instruments	\
	Support	\

.PHONY:			$(SubDirs)


vpath %cpp $(SrcDir)

Objs	=	\
	$(ObjDir)AllInstruments.o\
	$(ObjDir)Capturer.o\
	$(ObjDir)CaptureSet.o\
	$(ObjDir)CommonMeasurementTypes.o\
	$(ObjDir)Instrument.o\
	$(ObjDir)InstrumentSet.o\
	$(ObjDir)Measurement.o\
	$(ObjDir)MeasurementSet.o\

all:	$(Objs) $(SubDirs)

Instruments_OBJS := $(addprefix "Instruments/", $(shell $(MAKE) --directory Instruments -s list-objs))

list-objs::
	@echo $(Instruments_OBJS)

Instruments:
	@$(MAKE) --directory Instruments -s
