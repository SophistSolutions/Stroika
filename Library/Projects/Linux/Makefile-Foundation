ObjDir                          =       ./
SrcDir                          =       ../../../Sources/Stroika/Foundation/
Includes                        =       -I.

VPATH = $(SrcDir)


SubDirs=	\
	Characters		\
	Configuration		\
	Containers		\
	Cryptography		\
	Database			\
	DataExchangeFormat	\
	Debug			\
	Execution			\
	IO				\
	Math				\
	Memory			\
	Streams			\
	Time				\


.DEFAULT_GOAL := all



all-objs:
	@for i in $(SubDirs);\
	do\
	    (cd $$i; make -s all)\
	done


Stroika-Foundation.a:	all-objs
	@echo "PROBABLY WRONG HANDLING OF OVERLAPPING NAMESPACES (eg common in two dirs) - but a decent start"
	@rm -f Stroika-Foundation.a
	@for i in $(SubDirs);\
	do\
	    (cd $$i; for oo in `make -s list-objs`; do (cd ..; ar cq Stroika-Foundation.a $$i/$$oo); done )\
	done
	ranlib Stroika-Foundation.a


all:	Stroika-Foundation.a


clean:
	@for i in $(SubDirs);\
	do\
	    (cd $$i; make -s clean;)\
	done

clobber::
	@rm Stroika-Foundation.a


Build:	all


